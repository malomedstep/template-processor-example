
Это достаточно простой шаблон для построения многостраничных сайтов с возможностью переиспользования кусков HTML

---

## Запускать нужно следующим образом:
1. скачай или склонируй код
1. открой терминал в папке с проектом
1. выполни команду `npm i` чтобы скачать необходимые node_modules
1. выполни команду `npm run start` чтобы запустить сервер
1. в адресной строке браузера введи `localhost:3000`

---

При добавлении новой страницы необходимо перезапустить сервер, чтобы изменения вступили в силу:
1. нажать `Ctrl+C` в командной строке, чтобы отключить сервер
2. снова выполнить `npm run start`

При изменении существующих `vash` файлов перезапускать сервер не нужно

---

## Построен он на следующих технологиях:

- **nodejs** - для запуска сервера, который будет принимать запрос от браузера и генерировать HTML ответ

- **express** - микрофреймворк для построения серверных приложений, с ним намного проще создавать серве. В принципе, можно и на чистом nodejs, но на express получается значительно меньше кода, это как чистый JS и jQuery

- **vash** - template engine или template processor - то, ради чего всё и затевалось, на нём построена вся дальнейшая магия с включением страниц в страницы

---
Данный проект задает определённую структуру, которой необходимо следовать, чтобы всё работало.
В принципе, зная вышеуказанные технологии, можно менять структуру как душе угодно, но я рекомендую пока оставить всё как есть.

## Структура следующая:

- **public** - тут будут храниться все статические файлы, к которым будет обращаться страница - js, css, шрифты, картинки, видео и т.д., вот вообще ничего необычного, всё как всегда

- **routes** - тут определены маршруты для страниц, то есть, указываем, какому url будет соответствовать какая страница подробнее можешь прочитать в [routes/index.js](https://github.com/malomedstep/template-processor-example/blob/master/routes/index.js)

- **views** - тут будут находиться страницы и фрагменты страниц, которые будем вкоючать в страницы, все они имеют тип .vash, по сути, обычный html но с некоторыми синтаксическими дополнениями, подробнее смотри [views/shared/layout.vash](https://github.com/malomedstep/template-processor-example/blob/master/views/shared/layout.vash) и [views/contacts.vash](https://github.com/malomedstep/template-processor-example/blob/master/views/contacts.vash)

- **server.js** - тут настраивается и запускается express сервер и регистрируются пары "маршрут-страница", именно то, что написано в этом файле определяет структуру проекта, названия папок, и как вообще будет работать сервер, подробнее смотри [server.js]((https://github.com/malomedstep/template-processor-example/blob/master/server.js))

- **package.json** - стандартный файл с метаинформацией (описанием?) проекта на node, включает в себя некоторую информацию о проекте и список зависимостей (библиотек), он необходим

---

## Добавление новой страницы:

1. в папке views создать `имя_страницы.vash` файл следующего содержания:
```js
@html.extend('shared/layout', function(model) {
    @html.block('body', function(model) {
        <div>вёрстка страницы</div>
    })
})
```
2. в файле `routes/index.js` добавить следующий код:
```js
exports.имя_страницы = function(_req, res) {
    res.render('имя_страницы', { title: 'Заголовок страницы' });
}
```
3. в файле `server.js` перед `app.listen(...)` добавить следующую строчку:
```js
app.get('/имя_страницы', routes.имя_страницы);
```


## Ссылки:
- vash - https://github.com/kirbysayshi/vash
- nodejs и express - https://metanit.com/web/nodejs/
